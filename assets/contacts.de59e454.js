import{_ as V,r as u,u as D,a as L,b as c,o as r,c as _,d,w as I,e as o,F as T,f as j,g as R,h as U,U as C,i as F,t as k,p as E,j as A}from"./index.b7b39bcc.js";import{u as S}from"./debounce.9f301d71.js";import{D as B}from"./dateFormat.340f37ba.js";import{a as G}from"./api.5dd931a9.js";const M={name:"Contacts",components:{},props:{},setup(i){const a=u([]),h=u(!1),t=u(!1),f=u(!1),p=D();L(()=>{});const s=e=>{let m=isNaN(e)?e:"",O=isNaN(e)?"":e,b=new Date().getTime(),z={data:{name:m,phone_number:O},timestamp:b,sign:C.sisgn(b,C.sign())};F.post(G,z).then(w=>{w.data.code===200&&(a.value=w.data.data,t.value=!0)})},l=()=>{s()},v=(e,m)=>B.format(new Date(e),m),g=e=>B.getTime(e),y=()=>{t.value=!1,h.value=!0,a.value=[],s(),f.value=!1};let n=S("",800,e=>{s(e)});return{list:a,onLoad:l,loading:h,finished:t,onRefresh:y,refreshing:f,format:v,getTime:g,sendSms:e=>{let m=e.replace(/\s+/g,"");p.push(`/sms?number=${m}`)},keyword:n,useDebounced:S,getPageList:s}}},N=i=>(E("data-v-6914d384"),i=i(),A(),i),P={id:"contacts"},$={class:"contactsImgInfo"},q={class:"contactsinfo"},H={class:"contactsOtherBtn"},J={class:"contactsSms"},K=["href"],Q=N(()=>o("svg",{class:"icon call","aria-hidden":"true"},[o("use",{"xlink:href":"#icon-dianhua1"})],-1)),W=[Q],X=["onClick"],Y=N(()=>o("use",{"xlink:href":"#icon-duanxin"},null,-1)),Z=[Y];function tt(i,a,h,t,f,p){const s=c("van-search"),l=c("van-image"),v=c("van-list"),g=c("van-empty"),y=c("van-pull-refresh");return r(),_("div",P,[d(s,{modelValue:t.keyword,"onUpdate:modelValue":a[0]||(a[0]=n=>t.keyword=n),placeholder:"\u641C\u7D22\u8054\u7CFB\u4EBA",shape:"round","clear-trigger":"always",lazy:""},null,8,["modelValue"]),d(y,{modelValue:t.refreshing,"onUpdate:modelValue":a[2]||(a[2]=n=>t.refreshing=n),onRefresh:t.onRefresh},{default:I(()=>[d(v,{loading:t.loading,"onUpdate:loading":a[1]||(a[1]=n=>t.loading=n),finished:t.finished,"finished-text":t.list.length>0?"\u6CA1\u6709\u66F4\u591A\u4E86":"",onLoad:t.onLoad},{default:I(()=>[o("ul",null,[(r(!0),_(T,null,j(t.list,(n,x)=>(r(),_("li",{class:"contactslist",key:x},[o("div",$,[d(l,{round:"",cover:"",width:"2.5rem",height:"2.5rem",src:`https://ui-avatars.com/api/?name=${n.name}&length=1&background=random&size=128&bold=true&color=ff0000`},null,8,["src"]),o("div",q,[o("span",null,k(n.name),1),o("p",null,k(n.phone_number),1)])]),o("div",H,[o("div",J,[o("a",{href:"tel:"+n.phone_number.replace(/\s+/g,"")},W,8,K),(r(),_("svg",{class:"icon sms","aria-hidden":"true",onClick:e=>t.sendSms(n.phone_number)},Z,8,X))])])]))),128))])]),_:1},8,["loading","finished","finished-text","onLoad"]),t.list.length<=0?(r(),R(g,{key:0,description:"\u6682\u65E0\u6570\u636E"})):U("",!0)]),_:1},8,["modelValue","onRefresh"])])}var nt=V(M,[["render",tt],["__scopeId","data-v-6914d384"]]);const et={name:"Contact",components:{Contacts:nt},setup(){return{}}},at={id:"Contact"};function ot(i,a,h,t,f,p){const s=c("van-nav-bar"),l=c("Contacts",!0);return r(),_("div",at,[d(s,{title:"\u901A\u8BAF\u5F55"}),d(l)])}var dt=V(et,[["render",ot],["__scopeId","data-v-50ad3000"]]);export{dt as default};
